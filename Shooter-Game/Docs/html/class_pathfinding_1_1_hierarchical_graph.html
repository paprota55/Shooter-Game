<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Shooter-Game: Pathfinding.HierarchicalGraph Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Shooter-Game
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('class_pathfinding_1_1_hierarchical_graph.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#properties">Properties</a> &#124;
<a href="class_pathfinding_1_1_hierarchical_graph-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Pathfinding.HierarchicalGraph Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Holds a hierarchical graph to speed up certain pathfinding queries.  
 <a href="class_pathfinding_1_1_hierarchical_graph.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af6342f33a7a38f12a06992f107017672"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pathfinding_1_1_hierarchical_graph.html#af6342f33a7a38f12a06992f107017672">HierarchicalGraph</a> ()</td></tr>
<tr class="separator:af6342f33a7a38f12a06992f107017672"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a338758a7ee3b112f6be8e4bbcb22110d"><td class="memItemLeft" align="right" valign="top">uint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pathfinding_1_1_hierarchical_graph.html#a338758a7ee3b112f6be8e4bbcb22110d">GetConnectedComponent</a> (int hierarchicalNodeIndex)</td></tr>
<tr class="memdesc:a338758a7ee3b112f6be8e4bbcb22110d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the connected component index of a hierarchical node  <a href="class_pathfinding_1_1_hierarchical_graph.html#a338758a7ee3b112f6be8e4bbcb22110d">More...</a><br /></td></tr>
<tr class="separator:a338758a7ee3b112f6be8e4bbcb22110d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e7152891d1300f61167d756f17989a0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pathfinding_1_1_hierarchical_graph.html#a8e7152891d1300f61167d756f17989a0">RecalculateIfNecessary</a> ()</td></tr>
<tr class="memdesc:a8e7152891d1300f61167d756f17989a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recalculate the hierarchical graph and the connected components if any nodes have been marked as dirty  <a href="class_pathfinding_1_1_hierarchical_graph.html#a8e7152891d1300f61167d756f17989a0">More...</a><br /></td></tr>
<tr class="separator:a8e7152891d1300f61167d756f17989a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b46fda0faafd4b13fdec52049bf44d3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pathfinding_1_1_hierarchical_graph.html#a0b46fda0faafd4b13fdec52049bf44d3">RecalculateAll</a> ()</td></tr>
<tr class="memdesc:a0b46fda0faafd4b13fdec52049bf44d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recalculate everything from scratch.  <a href="class_pathfinding_1_1_hierarchical_graph.html#a0b46fda0faafd4b13fdec52049bf44d3">More...</a><br /></td></tr>
<tr class="separator:a0b46fda0faafd4b13fdec52049bf44d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f32c59b386cec64110ef6c385b6f512"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pathfinding_1_1_hierarchical_graph.html#a7f32c59b386cec64110ef6c385b6f512">OnDrawGizmos</a> (<a class="el" href="class_pathfinding_1_1_util_1_1_retained_gizmos.html">Pathfinding.Util.RetainedGizmos</a> gizmos)</td></tr>
<tr class="separator:a7f32c59b386cec64110ef6c385b6f512"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a09a0d7470bc3fc1a5bde7a9b4c4dd566"><td class="memItemLeft" align="right" valign="top">System.Action&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pathfinding_1_1_hierarchical_graph.html#a09a0d7470bc3fc1a5bde7a9b4c4dd566">onConnectedComponentsChanged</a></td></tr>
<tr class="separator:a09a0d7470bc3fc1a5bde7a9b4c4dd566"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="properties"></a>
Properties</h2></td></tr>
<tr class="memitem:af969a17aea3c495be2476f282e4cce75"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pathfinding_1_1_hierarchical_graph.html#af969a17aea3c495be2476f282e4cce75">version</a><code> [get]</code></td></tr>
<tr class="separator:af969a17aea3c495be2476f282e4cce75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade340bc2fd27d6719c35c1dc6fb35ab2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pathfinding_1_1_hierarchical_graph.html#ade340bc2fd27d6719c35c1dc6fb35ab2">NumConnectedComponents</a><code> [get]</code></td></tr>
<tr class="separator:ade340bc2fd27d6719c35c1dc6fb35ab2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Holds a hierarchical graph to speed up certain pathfinding queries. </p>
<p>A common type of query that needs to be very fast is on the form 'is this node reachable from this other node'. This is for example used when picking the end node of a path. The end node is determined as the closest node to the end point that can be reached from the start node.</p>
<p>This data structure's primary purpose is to keep track of which connected component each node is contained in, in order to make such queries fast.</p>
<p>See: <a href="https://en.wikipedia.org/wiki/Connected_component_(graph_theory)">https://en.wikipedia.org/wiki/Connected_component_(graph_theory)</a></p>
<p>A connected component is a set of nodes such that there is a valid path between every pair of nodes in that set. Thus the query above can simply be answered by checking if they are in the same connected component. The connected component is exposed on nodes as the <a class="el" href="class_pathfinding_1_1_graph_node.html#a954eb66f20422048b8e60b6eec60cbcd" title="Connected component that contains the node.">Pathfinding.GraphNode.Area</a> property and on this class using the GetArea method.</p>
<p>In the image below (showing a 200x200 grid graph) each connected component is colored using a separate color. The actual color doesn't signify anything in particular however, only that they are different. [Open online documentation to see images]</p>
<p>Prior to version 4.2 the connected components were just a number stored on each node, and when a graph was updated the connected components were completely recalculated. This can be done relatively efficiently using a flood filling algorithm (see <a href="https://en.wikipedia.org/wiki/Flood_fill">https://en.wikipedia.org/wiki/Flood_fill</a>) however it still requires a pass through every single node which can be quite costly on larger graphs.</p>
<p>This class instead builds a much smaller graph that still respects the same connectivity as the original graph. Each node in this hierarchical graph represents a larger number of real nodes that are one single connected component. Take a look at the image below for an example. In the image each color is a separate hierarchical node, and the black connections go between the center of each hierarchical node.</p>
<p>[Open online documentation to see images]</p>
<p>With the hierarchical graph, the connected components can be calculated by flood filling the hierarchical graph instead of the real graph. Then when we need to know which connected component a node belongs to, we look up the connected component of the hierarchical node the node belongs to.</p>
<p>The benefit is not immediately obvious. The above is just a bit more complicated way to accomplish the same thing. However the real benefit comes when updating the graph. When the graph is updated, all hierarchical nodes which contain any node that was affected by the update is removed completely and then once all have been removed new hierarchical nodes are recalculated in their place. Once this is done the connected components of the whole graph can be updated by flood filling only the hierarchical graph. Since the hierarchical graph is vastly smaller than the real graph, this is significantly faster.</p>
<p>[Open online documentation to see videos]</p>
<p>So finally using all of this, the connected components of the graph can be recalculated very quickly as the graph is updated. The effect of this grows larger the larger the graph is, and the smaller the graph update is. Making a small update to a 1000x1000 grid graph is on the order of 40 times faster with these optimizations. When scanning a graph or making updates to the whole graph at the same time there is however no speed boost. In fact due to the extra complexity it is a bit slower, however after profiling the extra time seems to be mostly insignificant compared to the rest of the cost of scanning the graph.</p>
<p>[Open online documentation to see videos]</p>
<p>See: <a class="el" href="class_pathfinding_1_1_path_utilities.html#a4725e115e59fa8e9f2bd26bd40a6349d" title="Returns if there is a walkable path from node1 to node2.">Pathfinding.PathUtilities.IsPathPossible</a> See: <a class="el" href="class_pathfinding_1_1_n_n_constraint.html" title="Nearest node constraint. Constrains which nodes will be returned by the AstarPath....">Pathfinding.NNConstraint</a> See: <a class="el" href="class_pathfinding_1_1_graph_node.html#a954eb66f20422048b8e60b6eec60cbcd" title="Connected component that contains the node.">Pathfinding.GraphNode.Area</a></p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="af6342f33a7a38f12a06992f107017672"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6342f33a7a38f12a06992f107017672">&#9670;&nbsp;</a></span>HierarchicalGraph()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Pathfinding.HierarchicalGraph.HierarchicalGraph </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a338758a7ee3b112f6be8e4bbcb22110d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a338758a7ee3b112f6be8e4bbcb22110d">&#9670;&nbsp;</a></span>GetConnectedComponent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint Pathfinding.HierarchicalGraph.GetConnectedComponent </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>hierarchicalNodeIndex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the connected component index of a hierarchical node </p>

</div>
</div>
<a id="a7f32c59b386cec64110ef6c385b6f512"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f32c59b386cec64110ef6c385b6f512">&#9670;&nbsp;</a></span>OnDrawGizmos()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Pathfinding.HierarchicalGraph.OnDrawGizmos </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_pathfinding_1_1_util_1_1_retained_gizmos.html">Pathfinding.Util.RetainedGizmos</a>&#160;</td>
          <td class="paramname"><em>gizmos</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a0b46fda0faafd4b13fdec52049bf44d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b46fda0faafd4b13fdec52049bf44d3">&#9670;&nbsp;</a></span>RecalculateAll()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Pathfinding.HierarchicalGraph.RecalculateAll </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Recalculate everything from scratch. </p>
<p>This is primarily to be used for legacy code for compatibility reasons, not for any new code.</p>
<p>See: <a class="el" href="class_pathfinding_1_1_hierarchical_graph.html#a8e7152891d1300f61167d756f17989a0" title="Recalculate the hierarchical graph and the connected components if any nodes have been marked as dirt...">RecalculateIfNecessary</a></p>

</div>
</div>
<a id="a8e7152891d1300f61167d756f17989a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e7152891d1300f61167d756f17989a0">&#9670;&nbsp;</a></span>RecalculateIfNecessary()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Pathfinding.HierarchicalGraph.RecalculateIfNecessary </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Recalculate the hierarchical graph and the connected components if any nodes have been marked as dirty </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a09a0d7470bc3fc1a5bde7a9b4c4dd566"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09a0d7470bc3fc1a5bde7a9b4c4dd566">&#9670;&nbsp;</a></span>onConnectedComponentsChanged</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">System.Action Pathfinding.HierarchicalGraph.onConnectedComponentsChanged</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Property Documentation</h2>
<a id="ade340bc2fd27d6719c35c1dc6fb35ab2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade340bc2fd27d6719c35c1dc6fb35ab2">&#9670;&nbsp;</a></span>NumConnectedComponents</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Pathfinding.HierarchicalGraph.NumConnectedComponents</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="af969a17aea3c495be2476f282e4cce75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af969a17aea3c495be2476f282e4cce75">&#9670;&nbsp;</a></span>version</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Pathfinding.HierarchicalGraph.version</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>F:/Shooter-Game/Shooter-Game/Assets/AstarPathfindingProject/Core/Misc/<a class="el" href="_hierarchical_graph_8cs.html">HierarchicalGraph.cs</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespace_pathfinding.html">Pathfinding</a></li><li class="navelem"><a class="el" href="class_pathfinding_1_1_hierarchical_graph.html">HierarchicalGraph</a></li>
    <li class="footer">Generated on Mon May 25 2020 18:01:00 for Shooter-Game by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.18 </li>
  </ul>
</div>
</body>
</html>
